# DO NOT EDIT THIS FILE
# This file is controlled by Drainpipe, run composer install to apply pending
# updates.  You can add values to the php service using .tugboat/config.drainpipe-override.yml.
#
# Example config.drainpipe-override.yml
# php:
#   aliases:
#   urls:
#   screenshot:
#   visualdiff:
services:
  php:
    http: false
    image: tugboatqa/php-nginx:8.1-fpm
    default: true

    depends:
      - mariadb
      - redis

    commands:
      init: ./.tugboat/steps/1-init.sh
      update: ./.tugboat/steps/2-update.sh
      build: ./.tugboat/steps/3-build.sh
      online: ./.tugboat/steps/4-online.sh

    aliases:
      - foo
    urls:
      - /
    screenshot:
      timeout: 45
    visualdiff:
      fullPage: false

  mariadb:
    image: tugboatqa/mariadb:10.11

  redis:
    image: tugboatqa/redis:6-bullseye

  elasticsearch:
    image: tugboatqa/elasticsearch:7.17.14
