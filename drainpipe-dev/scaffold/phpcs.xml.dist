<?xml version="1.0"?>
<ruleset>
    <description>PHP_CodeSniffer Standards</description>

    <!-- Use colors in output. -->
    <arg name="colors"/>
    <!-- Show progress. -->
    <arg value="p"/>
    
    <!-- Add Drupal specific PHP file extensions -->
    <arg name="extensions" value="php,inc,module,theme,install"/>

    <!-- Include common Drupal standards. -->
    <rule ref="./vendor/drupal/coder/coder_sniffer/Drupal/ruleset.xml"/>
    <rule ref="./vendor/drupal/coder/coder_sniffer/DrupalPractice/ruleset.xml"/>


    <!-- Apply same exclusions for T function applied by core. -->
    <rule ref="Drupal.Semantics.FunctionT">
        <exclude name="Drupal.Semantics.FunctionT.NotLiteralString"/>
    </rule>

    <!-- See ADR: Use strict types in PHP code -->
    <rule ref="Generic.PHP.RequireStrictTypes"/>

    <file>web/modules/custom</file>
    <file>web/themes/custom</file>
    <file>web/sites</file>

    <!-- Exclude JS and CSS, this is covered by yarn scripts -->
    <exclude-pattern>**/*.js</exclude-pattern>
    <exclude-pattern>**/*.css</exclude-pattern>
    <!-- Autogenerated Drupal files -->
    <exclude-pattern>*/default.settings.php</exclude-pattern>
    <exclude-pattern>*/sites/*/files/*</exclude-pattern>
    <exclude-pattern>*/settings.ddev.php</exclude-pattern>
    <exclude-pattern>*/sites/simpletest/*</exclude-pattern>
    <exclude-pattern>*/node_modules/*</exclude-pattern>
</ruleset>
